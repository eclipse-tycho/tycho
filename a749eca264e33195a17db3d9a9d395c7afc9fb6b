{
  "comments": [
    {
      "key": {
        "uuid": "feee42ec_398253b8",
        "filename": "tycho-bundles/org.eclipse.tycho.p2.resolver.impl/src/main/java/org/eclipse/tycho/p2/target/TargetDefinitionResolverService.java",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 171685
      },
      "writtenOn": "2020-12-21T14:19:34Z",
      "side": 1,
      "message": "I\u0027m not sure if we need the future approach here, if I understand right the API doc computeIfAbsent will block other threads already.",
      "revId": "a749eca264e33195a17db3d9a9d395c7afc9fb6b",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11cdb20d_25a606f5",
        "filename": "tycho-bundles/org.eclipse.tycho.p2.resolver.impl/src/main/java/org/eclipse/tycho/p2/target/TargetDefinitionResolverService.java",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 101744
      },
      "writtenOn": "2020-12-21T14:22:36Z",
      "side": 1,
      "message": "The future is only used to wrap result|exception, not for blocking.",
      "parentUuid": "feee42ec_398253b8",
      "revId": "a749eca264e33195a17db3d9a9d395c7afc9fb6b",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c481b2c3_da58e2e1",
        "filename": "tycho-bundles/org.eclipse.tycho.p2.resolver.impl/src/main/java/org/eclipse/tycho/p2/target/TargetDefinitionResolverService.java",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 171685
      },
      "writtenOn": "2020-12-21T14:27:38Z",
      "side": 1,
      "message": "But resolveFromArguments only throw RTE or do I miss something?\n\nMoving the logging into the resolveFromArguments method it should be possible to rewrite it to\n\n\u003e return resolutionCache.computeIfAbsent(arguments, this::resolveFromArguments)",
      "parentUuid": "11cdb20d_25a606f5",
      "revId": "a749eca264e33195a17db3d9a9d395c7afc9fb6b",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5396ceb7_33763988",
        "filename": "tycho-bundles/org.eclipse.tycho.p2.resolver.impl/src/main/java/org/eclipse/tycho/p2/target/TargetDefinitionResolverService.java",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 101744
      },
      "writtenOn": "2020-12-21T14:32:54Z",
      "side": 1,
      "message": "Correct, but if computeIfAbsent throws, nothing is cached (which works for the calling thread). But then the next worker will try to resolve it again and again.",
      "parentUuid": "c481b2c3_da58e2e1",
      "revId": "a749eca264e33195a17db3d9a9d395c7afc9fb6b",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    }
  ]
}