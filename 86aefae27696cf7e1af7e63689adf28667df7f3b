{
  "comments": [
    {
      "key": {
        "uuid": "caaed26e_d68ad76a",
        "filename": "tycho-extras/tycho-eclipserun-plugin/src/main/java/org/eclipse/tycho/extras/eclipserun/EclipseRunMojo.java",
        "patchSetId": 6
      },
      "lineNbr": 295,
      "author": {
        "id": 171685
      },
      "writtenOn": "2020-07-16T17:06:15Z",
      "side": 1,
      "message": "Instead of converting file to string and later back to file I think the path should only be converted to string if required (e.g. log or arguments).\nAlso it seems previously the directory was cleared, this step is missing now!",
      "revId": "86aefae27696cf7e1af7e63689adf28667df7f3b",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "452bbf7c_4ad30b93",
        "filename": "tycho-extras/tycho-eclipserun-plugin/src/main/java/org/eclipse/tycho/extras/eclipserun/EclipseRunMojo.java",
        "patchSetId": 6
      },
      "lineNbr": 295,
      "author": {
        "id": 67832
      },
      "writtenOn": "2020-07-16T17:43:47Z",
      "side": 1,
      "message": "The File interna are mostly string based so that would not make much of a difference.\n\nThe clearing of the directory was a no-op because the directory was never used anyways. I see no reason to introduce this now.\nThe directory we are using now is inside the target dir of maven anyways. So a proper mvn clean othergoal will get rid of it now correctly already.",
      "parentUuid": "caaed26e_d68ad76a",
      "revId": "86aefae27696cf7e1af7e63689adf28667df7f3b",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80037e82_a3ac941c",
        "filename": "tycho-extras/tycho-eclipserun-plugin/src/main/java/org/eclipse/tycho/extras/eclipserun/EclipseRunMojo.java",
        "patchSetId": 6
      },
      "lineNbr": 295,
      "author": {
        "id": 171685
      },
      "writtenOn": "2020-07-17T04:44:10Z",
      "side": 1,
      "message": "One should not code agains internal representation, a file is a file and not a string, you could also not assume that clean will always be part of the call, so even though it was a noop before it won\u0027t be after your fix if repeated builds without a clean are performed.",
      "parentUuid": "452bbf7c_4ad30b93",
      "revId": "86aefae27696cf7e1af7e63689adf28667df7f3b",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "acce87b9_5b594c44",
        "filename": "tycho-extras/tycho-eclipserun-plugin/src/main/java/org/eclipse/tycho/extras/eclipserun/EclipseRunMojo.java",
        "patchSetId": 6
      },
      "lineNbr": 295,
      "author": {
        "id": 587
      },
      "writtenOn": "2020-07-17T06:21:56Z",
      "side": 1,
      "message": "I agree with Christoph. Some recent issues in Tycho were fixed by avoiding strings and using stronger typing instead. We should try stronger typing whenever we have the opportunity and only \"weaken\" typing on dereference when necessary. That reduce maintenance cost.",
      "parentUuid": "80037e82_a3ac941c",
      "revId": "86aefae27696cf7e1af7e63689adf28667df7f3b",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c11d746_074de864",
        "filename": "tycho-extras/tycho-eclipserun-plugin/src/main/java/org/eclipse/tycho/extras/eclipserun/EclipseRunMojo.java",
        "patchSetId": 6
      },
      "lineNbr": 295,
      "author": {
        "id": 67832
      },
      "writtenOn": "2020-07-17T07:25:51Z",
      "side": 1,
      "message": "Ok, you are right. I have changed it to work with File until we really need a String.\n\n\nAbout the clearing of the directory:\n\nBefore:\n- A directory was cleared that never existed and that was never filled -\u003e no-op.\n- During consecutive tycho-eclipse-plugin invocations, the workspace dir that was really used was *not* cleared.\n\nMy intention with this change is:\n- Only to change the *location* of the workspace directory\n- *NOT* to change any behavior\n\nWho knows - maybe the fact that the workspace survived consecutive invocations is actually a behavior that some clients relied on.\n\nAs for the mentioning of \u0027mvn clean\u0027: My point was only that by moving the location of the folder inside the /target directory it will eventually be cleaned up if someone intents to, so there is no need to take care of cleaning it up explicitly by ourselves.\n\nI am not particularly against clearing this (it looks like the initial intention of the code was to do exactly that) - so adding it in principle would be OK - however, for the argument above I see no reason to.\n\nWhat do you think?",
      "parentUuid": "acce87b9_5b594c44",
      "revId": "86aefae27696cf7e1af7e63689adf28667df7f3b",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb9b1af2_316378b2",
        "filename": "tycho-extras/tycho-eclipserun-plugin/src/main/java/org/eclipse/tycho/extras/eclipserun/EclipseRunMojo.java",
        "patchSetId": 6
      },
      "lineNbr": 295,
      "author": {
        "id": 171685
      },
      "writtenOn": "2020-07-18T05:26:53Z",
      "side": 1,
      "message": "I think it should be cleared as not clearing the directoy was just a side-effect of the bug. If there is really some code that needs this we might offer an option for it.",
      "parentUuid": "0c11d746_074de864",
      "revId": "86aefae27696cf7e1af7e63689adf28667df7f3b",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    }
  ]
}