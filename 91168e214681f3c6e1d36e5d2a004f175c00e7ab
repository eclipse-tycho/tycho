{
  "comments": [
    {
      "key": {
        "uuid": "2c95743b_cc909f63",
        "filename": "tycho-bundles/org.eclipse.tycho.p2.resolver.shared/src/main/java/org/eclipse/tycho/p2/target/facade/TargetDefinition.java",
        "patchSetId": 11
      },
      "lineNbr": 136,
      "author": {
        "id": 587
      },
      "writtenOn": "2020-07-06T18:32:06Z",
      "side": 1,
      "message": "I think this doesn\u0027t belong to that class.\nIe, is this the project that defines the file, or the project that the file is being \"applied on\"? Also, what about the case of the same file used on mulitple project? This would force to have 1 instance of TargetDefinition for each file while in reality, there could be only 1 TargetDefinition (the definition) and N \"resolved\" target definition.\nI liked the former TargetDefinitionContext, which I believe would be a good place where to host such module-specific logic. However, if just adding the project is enough, it could be an extra parameter to TargetDefinitionResolver.resolveContentWithExceptions() and part of the TargetDefinitionResolverService.ResolutionArguments.",
      "revId": "91168e214681f3c6e1d36e5d2a004f175c00e7ab",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4765464b_6b5f179e",
        "filename": "tycho-bundles/org.eclipse.tycho.p2.resolver.shared/src/main/java/org/eclipse/tycho/p2/target/facade/TargetDefinition.java",
        "patchSetId": 11
      },
      "lineNbr": 136,
      "author": {
        "id": 171685
      },
      "writtenOn": "2020-07-07T12:26:38Z",
      "side": 1,
      "message": "There are two participants here:\n1) TargetDefinitionFile -\u003e that is a .target file parsed into a java object and this is the ReactorProject this target file resides in (the one mentioned in the target configuration).\n2) TargetDefinitionResolver -\u003e Resolves a given TargetDefinition and doesn\u0027t know about the source of it thus it needs a reference to the project.\n\nOf course it would be possible to hand this over via arguments, but as the ReactorProject has a 1:1 relation to a TargetDefinition it seems more natural to put it here instead of passing the information implicitly.\n\nThe same file can still be used for multiple projects and is (as far as I can tell) only resolved once in the lifetime of a tycho build.",
      "parentUuid": "2c95743b_cc909f63",
      "revId": "91168e214681f3c6e1d36e5d2a004f175c00e7ab",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94c84b3d_55dc75e9",
        "filename": "tycho-bundles/org.eclipse.tycho.p2.resolver.shared/src/main/java/org/eclipse/tycho/p2/target/facade/TargetDefinition.java",
        "patchSetId": 11
      },
      "lineNbr": 136,
      "author": {
        "id": 587
      },
      "writtenOn": "2020-07-07T12:57:53Z",
      "side": 1,
      "message": "I don\u0027t get what \"projects\" you\u0027re talking about then, especially since I see no 1-1 relationship. Is this the project that does *contain* the .target file or the one that uses the .target in its target-platform-configuration\nAssuming a layout with 3 modules: target-definition/, bundle1/ and bundle2/; is the project target-definition, or bundle1 or bundle2?\n\nIf it\u0027s the *defining* project (target-definition), then in some/many cases, the target definition can come from a m2 repo and not be part of the reactor. And it\u0027s also possible (yet not encouraged) to have an eclipse-target-definition project to include multiple targets. So it\u0027s not 1:1 cardinality.\nSimilarly, if your mean the *consuming* project (bundles), then such eclipse-plugin can use no target files, or can use several ones; a target file isn\u0027t necessarily used by a module and a target file can be used by multiple modules.\nSo in any case, there is no 1:1 cardinality between the definition and it\u0027s resolution/context.",
      "parentUuid": "4765464b_6b5f179e",
      "revId": "91168e214681f3c6e1d36e5d2a004f175c00e7ab",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b57fb19e_27b8734a",
        "filename": "tycho-bundles/org.eclipse.tycho.p2.resolver.shared/src/main/java/org/eclipse/tycho/p2/target/facade/TargetDefinition.java",
        "patchSetId": 11
      },
      "lineNbr": 136,
      "author": {
        "id": 171685
      },
      "writtenOn": "2020-07-07T14:53:30Z",
      "side": 1,
      "message": "It should be the project that contains the target-file this might not always be possible to use e.g. you can\u0027t really install this / use it when the target project is not part of the reactor build.\nAnd you are right one project could contain multiple targets but as far as I know tycho is only selectiong one per project. And I have assumed that the reactor project from the p2 resolver is that one, but maybe I\u0027m on the wrong path :-)\n\nAs this is only need for one special (non standard case) I think I can refactor this to not use the ReactorProject, I\u0027ll prepare a new patch set.",
      "parentUuid": "94c84b3d_55dc75e9",
      "revId": "91168e214681f3c6e1d36e5d2a004f175c00e7ab",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    }
  ]
}